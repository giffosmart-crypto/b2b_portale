{% extends "base.html" %}

{% block title %}Portale B2B turistico{% endblock %}
{% block page_title %}Benvenuto nel Portale B2B{% endblock %}

{% block content %}

<div class="space-y-8">

    <!-- HERO -->
    <section class="bg-gradient-to-r from-blue-50 to-slate-50 rounded-2xl border border-slate-200 px-6 py-8 mb-4">
        <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-6">
            <div class="space-y-3 max-w-xl">
                <h1 class="text-2xl md:text-3xl font-semibold text-slate-900">
                    Portale B2B per il turismo
                </h1>
                <p class="text-sm md:text-base text-slate-600">
                    Un unico punto di accesso per clienti e partner del settore turistico:
                    gestisci ordini, strutture, prodotti e servizi in modo semplice e centralizzato.
                </p>

                {% if request.user.is_authenticated %}
                    {% if request.user.role == "client" %}
                        <div class="flex flex-wrap gap-3">
                            <a href="{% url 'catalog:product_list' %}"
                               class="inline-flex items-center rounded-xl bg-blue-600 text-white px-4 py-2 text-sm font-medium hover:bg-blue-700">
                                Vai al catalogo
                            </a>
                            <a href="{% url 'accounts:my_orders' %}"
                               class="inline-flex items-center rounded-xl bg-slate-900 text-white px-4 py-2 text-sm font-medium hover:bg-slate-800">
                                I miei ordini
                            </a>
                        </div>
                    {% elif request.user.role == "partner" %}
                        <div class="flex flex-wrap gap-3">
                            <a href="{% url 'partners:dashboard' %}"
                               class="inline-flex items-center rounded-xl bg-blue-600 text-white px-4 py-2 text-sm font-medium hover:bg-blue-700">
                                Vai alla dashboard partner
                            </a>
                            <a href="{% url 'partners:order_list' %}"
                               class="inline-flex items-center rounded-xl bg-slate-900 text-white px-4 py-2 text-sm font-medium hover:bg-slate-800">
                                Ordini assegnati
                            </a>
                        </div>
                    {% else %}
                        <div class="flex flex-wrap gap-3">
                            <a href="{% url 'catalog:product_list' %}"
                               class="inline-flex items-center rounded-xl bg-blue-600 text-white px-4 py-2 text-sm font-medium hover:bg-blue-700">
                                Vai al catalogo
                            </a>
                        </div>
                    {% endif %}
                {% else %}
                    <div class="flex flex-wrap gap-3">
                        <a href="{% url 'accounts:login' %}"
                           class="inline-flex items-center rounded-xl bg-blue-600 text-white px-4 py-2 text-sm font-medium hover:bg-blue-700">
                            Accedi al portale
                        </a>
                        <a href="{% url 'catalog:product_list' %}"
                           class="inline-flex items-center rounded-xl border border-slate-300 text-slate-700 px-4 py-2 text-sm font-medium hover:bg-slate-50">
                            Esplora il catalogo
                        </a>
                    </div>
                {% endif %}
            </div>

            <div class="flex-1">
                <div class="grid grid-cols-2 gap-3 text-xs text-slate-700">

                    <div class="bg-white rounded-2xl border border-slate-200 p-3">
                        <p class="text-[11px] text-slate-500 uppercase mb-1">Per i clienti</p>
                        <p class="font-semibold mb-1">Ordini centralizzati</p>
                        <p>Gestisci prodotti e servizi per tutte le tue strutture da un’unica interfaccia.</p>
                    </div>

                    <div class="bg-white rounded-2xl border border-slate-200 p-3">
                        <p class="text-[11px] text-slate-500 uppercase mb-1">Per i partner</p>
                        <p class="font-semibold mb-1">Righe da evadere</p>
                        <p>Visualizza e aggiorna lo stato delle richieste assegnate al tuo profilo.</p>
                    </div>

                    <div class="bg-white rounded-2xl border border-slate-200 p-3">
                        <p class="text-[11px] text-slate-500 uppercase mb-1">Strutture</p>
                        <p class="font-semibold mb-1">Gestione strutture</p>
                        <p>Configura hotel, B&B e altre strutture per ordini rapidi e precisi.</p>
                    </div>

                    <div class="bg-white rounded-2xl border border-slate-200 p-3">
                        <p class="text-[11px] text-slate-500 uppercase mb-1">Catalogo</p>
                        <p class="font-semibold mb-1">Servizi & prodotti</p>
                        <p>Un catalogo unico, con disponibilità e prezzi sempre aggiornati.</p>
                    </div>

                </div>
            </div>
        </div>
    </section>

    <!-- SEI UN CLIENTE / SEI UN PARTNER -->
    <section class="grid grid-cols-1 md:grid-cols-2 gap-6">

        <!-- CLIENTE -->
        <div class="bg-white border border-slate-200 rounded-2xl p-5 space-y-3">
            <h2 class="text-base font-semibold text-slate-900">
                Sei un cliente (hotel, B&B, struttura)?
            </h2>
            <p class="text-sm text-slate-600">
                Accedi al catalogo e crea ordini per tutte le tue strutture. Monitora lo stato degli ordini e duplica quelli
                più frequenti in pochi click.
            </p>

            <ul class="text-sm text-slate-600 space-y-1">
                <li>• Catalogo dedicato al settore turistico</li>
                <li>• Gestione delle tue strutture</li>
                <li>• Storico e duplicazione ordini</li>
            </ul>

<div class="pt-2 flex flex-wrap gap-3">
        {% if request.user.is_authenticated and request.user.role == "client" %}
            <a href="{% url 'catalog:product_list' %}"
               class="inline-flex items-center rounded-xl bg-blue-600 text-white px-4 py-2 text-sm font-medium hover:bg-blue-700">
                Vai al catalogo
            </a>
            <a href="{% url 'accounts:my_orders' %}"
               class="inline-flex items-center rounded-xl border border-slate-200 px-4 py-2 text-sm text-slate-700 hover:bg-slate-50">
                I miei ordini
            </a>
        {% else %}
            <a href="{% url 'accounts:login' %}"
               class="inline-flex items-center rounded-xl bg-blue-600 text-white px-4 py-2 text-sm font-medium hover:bg-blue-700">
                Accedi come cliente
            </a>
        {% endif %}
    </div>
        </div>

        <!-- PARTNER -->
        <div class="bg-white border border-slate-200 rounded-2xl p-5 space-y-3">
            <h2 class="text-base font-semibold text-slate-900">
                Sei un partner / fornitore?
            </h2>
            <p class="text-sm text-slate-600">
                Ricevi le righe d’ordine a te assegnate, aggiorna lo stato di lavorazione e tieni traccia delle attività
                da completare.
            </p>

            <ul class="text-sm text-slate-600 space-y-1">
                <li>• Dashboard con KPI dedicati</li>
                <li>• Elenco righe da evadere</li>
                <li>• Stato lavorazione aggiornabile per ogni riga</li>
            </ul>

            <div class="pt-2 flex flex-wrap gap-3">
                {% if request.user.is_authenticated and request.user.role == "partner" %}
                    <a href="{% url 'partners:dashboard' %}"
                       class="inline-flex items-center rounded-xl bg-blue-600 text-white px-4 py-2 text-sm font-medium hover:bg-blue-700">
                        Vai alla dashboard partner
                    </a>
                    <a href="{% url 'partners:order_list' %}"
                       class="inline-flex items-center rounded-xl border border-slate-200 px-4 py-2 text-sm text-slate-700 hover:bg-slate-50">
                        Ordini assegnati
                    </a>
                {% else %}
                    <a href="{% url 'accounts:login' %}"
                       class="inline-flex items-center rounded-xl bg-blue-600 text-white px-4 py-2 text-sm font-medium hover:bg-blue-700">
                        Accedi come partner
                    </a>
                {% endif %}
            </div>
        </div>

    </section>

    <!-- LINK VELOCI (solo se autenticato) -->
    {% if request.user.is_authenticated %}
        <section class="bg-white border border-slate-200 rounded-2xl p-5">
            <h2 class="text-sm font-semibold text-slate-900 mb-3">
                Link veloci
            </h2>
            <div class="flex flex-wrap gap-3 text-sm">
                <a href="{% url 'catalog:product_list' %}"
                   class="inline-flex items-center rounded-xl border border-slate-200 px-3 py-1.5 text-slate-700 hover:bg-slate-50">
                    Catalogo prodotti
                </a>
                <a href="{% url 'orders:cart_detail' %}"
                   class="inline-flex items-center rounded-xl border border-slate-200 px-3 py-1.5 text-slate-700 hover:bg-slate-50">
                    Carrello
                </a>
                {% if request.user.role == "client" %}
                    <a href="{% url 'accounts:my_orders' %}"
                       class="inline-flex items-center rounded-xl border border-slate-200 px-3 py-1.5 text-slate-700 hover:bg-slate-50">
                        I miei ordini
                    </a>
                    <a href="{% url 'accounts:my_structures_list' %}"
                       class="inline-flex items-center rounded-xl border border-slate-200 px-3 py-1.5 text-slate-700 hover:bg-slate-50">
                        Le mie strutture
                    </a>
                {% endif %}
            </div>
        </section>
    {% endif %}

</div>

{% endblock %}
