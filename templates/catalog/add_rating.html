{% extends "base.html" %}

{% block title %}Recensisci {{ product.name }}{% endblock %}
{% block page_title %}Recensisci {{ product.name }}{% endblock %}

{% block content %}
  <div class="max-w-xl mx-auto space-y-4">

    <h1 class="text-xl font-semibold text-slate-900">
      Recensisci: {{ product.name }}
    </h1>

    <p class="text-sm text-slate-600">
      Stai lasciando una recensione per il prodotto:
      <strong>{{ product.name }}</strong>
      del partner
      {% if product.supplier %}
        <span class="font-medium">{{ product.supplier.company_name }}</span>
      {% endif %}
    </p>

    <form method="post" class="space-y-4">
      {% csrf_token %}
      {{ form.non_field_errors }}

      <div class="space-y-1">
        <label for="{{ form.rating.id_for_label }}" class="text-sm font-medium text-slate-700">
          Voto (1â€“5)
        </label>
        {{ form.rating }}
        {% if form.rating.errors %}
          <p class="text-xs text-red-600">
            {{ form.rating.errors|join:", " }}
          </p>
        {% endif %}
      </div>

      <div class="space-y-1">
        <label for="{{ form.comment.id_for_label }}" class="text-sm font-medium text-slate-700">
          Commento (opzionale)
        </label>
        {{ form.comment }}
        {% if form.comment.errors %}
          <p class="text-xs text-red-600">
            {{ form.comment.errors|join:", " }}
          </p>
        {% endif %}
      </div>

      <div class="flex gap-3 pt-2">
        <button type="submit"
                class="inline-flex items-center rounded-xl bg-blue-600 text-white px-4 py-2 text-sm font-medium hover:bg-blue-700">
          Salva recensione
        </button>

        <a href="{% url 'catalog:product_detail' slug=product.slug %}"
           class="inline-flex items-center rounded-xl border border-slate-200 px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50">
          Annulla
        </a>
      </div>
    </form>

  </div>
{% endblock %}
