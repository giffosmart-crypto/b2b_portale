{% extends "base.html" %}

{% block title %}Le mie strutture{% endblock %}
{% block page_title %}Le mie strutture{% endblock %}

{% block content %}

<!-- Header + bottone -->
<div class="flex items-center justify-between mb-6">
    <p class="text-slate-600 text-sm">
        Qui puoi gestire le strutture associate al tuo account.
    </p>

    <a href="{% url 'accounts:my_structure_create' %}"
       class="inline-flex items-center rounded-xl bg-blue-600 text-white px-4 py-2 text-sm font-medium hover:bg-blue-700">
        + Aggiungi struttura
    </a>
</div>


<!-- LISTA STRUTTURE -->
{% if structures %}

    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">

        {% for s in structures %}
            <div class="bg-white border border-slate-200 rounded-2xl p-5 flex flex-col shadow-sm">

                <!-- Nome struttura -->
                <h2 class="text-base font-semibold text-slate-900 mb-1">
                    {{ s.name }}
                </h2>

                <!-- CittÃ  -->
                <p class="text-sm text-slate-600 mb-2">
                    {{ s.city }}
                </p>

                <!-- Badge "predefinita" -->
                {% if s.is_default_shipping %}
                    <span class="inline-flex items-center rounded-full bg-blue-50 px-2.5 py-1 text-[11px] font-medium text-blue-700 mb-3 w-fit">
                        Predefinita
                    </span>
                {% endif %}

                <!-- Pulsanti -->
                <div class="mt-auto flex items-center gap-4 text-sm">

                    <a href="{% url 'accounts:my_structure_edit' s.id %}"
                       class="text-blue-600 hover:text-blue-800 font-medium">
                        Modifica
                    </a>

                    <a href="{% url 'accounts:my_structure_delete' s.id %}"
                       class="text-rose-600 hover:text-rose-800 font-medium">
                        Elimina
                    </a>

                </div>
            </div>
        {% endfor %}

    </div>

{% else %}

    <p class="text-slate-500 text-sm">
        Non hai ancora strutture configurate.
    </p>

{% endif %}

{% endblock %}
