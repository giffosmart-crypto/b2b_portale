{% extends "base.html" %}

{# Titolo pagina (usato nel <title> del layout principale) #}
{% block page_title %}Area amministratore{% endblock %}

{# Stili specifici per i pulsanti "Admin panel" PRO #}
{% block extra_head %}
    {{ block.super }}
    <style>
        .admin-nav-item {
            position: relative;
            display: flex;
            align-items: center;
            gap: 0.6rem;

            padding: 0.5rem 0.85rem;
            border-radius: 0.95rem;

            font-size: 0.85rem;
            font-weight: 500;

            color: #0f172a;             /* slate-900 */
            text-decoration: none;
            border: 1px solid transparent;

            background-color: transparent;
            transition: all 0.22s ease;
        }

        .admin-nav-item::before {
            content: "";
            position: absolute;
            left: -0.45rem;
            top: 6px;
            bottom: 6px;
            width: 3px;
            border-radius: 999px;
            background: linear-gradient(180deg, #6366f1, #ec4899);
            opacity: 0;
            transform: scaleY(0.5);
            transform-origin: center;
            transition: all 0.22s ease;
        }

        .admin-nav-item:hover {
            background-color: #eef2ff;   /* indigo-100 */
            border-color: #6366f1;       /* indigo-500 */
            color: #4338ca;              /* indigo-700 */
            transform: translateX(3px);
            box-shadow: 0 6px 14px rgb(15 23 42 / 0.12);
        }

        .admin-nav-item:hover::before {
            opacity: 1;
            transform: scaleY(1);
        }

        .admin-nav-item svg {
            width: 1.15rem;
            height: 1.15rem;
        }

        .admin-nav-item.active {
            background-image: linear-gradient(135deg, #4f46e5, #6366f1);
            border-color: #4f46e5;
            color: #ffffff;
            box-shadow: 0 8px 18px rgba(79, 70, 229, 0.45);
            transform: none;
        }

        .admin-nav-item.active::before {
            opacity: 1;
            transform: scaleY(1);
        }

        .admin-nav-item.active svg {
            color: #e0e7ff;
        }

        .admin-nav-icon {
            color: #4b5563; /* slate-600 */
            transition: color 0.2s ease;
        }

        .admin-nav-item:hover .admin-nav-icon {
            color: #4338ca; /* indigo-700 */
        }

        .admin-nav-item.active .admin-nav-icon {
            color: #e0e7ff; /* indigo-100 */
        }
    </style>
{% endblock %}

{% block content %}
<div class="max-w-6xl mx-auto py-4 md:py-6">
    <div class="grid grid-cols-1 md:grid-cols-[220px,1fr] gap-4 md:gap-6">

        <!-- SIDEBAR ADMIN PANEL -->
        <aside class="bg-white rounded-2xl shadow-sm border border-slate-200 p-3 md:p-4">
            <h2 class="text-xs font-semibold text-slate-400 uppercase tracking-wide mb-3">
                Admin panel
            </h2>

            <nav class="space-y-1 text-sm">

                {# DASHBOARD #}
                <a href="{% url 'backoffice:dashboard' %}"
                   class="admin-nav-item {% if request.resolver_match.url_name == 'dashboard' %}active{% endif %}">
                    <svg xmlns="http://www.w3.org/2000/svg"
                         class="admin-nav-icon"
                         viewBox="0 0 24 24" fill="none" stroke="currentColor"
                         stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M3 13h6V5H3v8zM15 21h6V11h-6v10zM9 21h6V3H9v18z" />
                    </svg>
                    <span>Dashboard</span>
                </a>

                {# ORDINI #}
                <a href="{% url 'backoffice:order_list' %}"
                   class="admin-nav-item {% if request.resolver_match.url_name == 'order_list' %}active{% endif %}">
                    <svg xmlns="http://www.w3.org/2000/svg"
                         class="admin-nav-icon"
                         viewBox="0 0 24 24" fill="none" stroke="currentColor"
                         stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M3 7l9-4 9 4-9 4-9-4z" />
                        <path d="M3 17l9 4 9-4" />
                        <path d="M3 12l9 4 9-4" />
                    </svg>
                    <span>Ordini</span>
                </a>

                {# PARTNER #}
                <a href="{% url 'backoffice:partner_list' %}"
                   class="admin-nav-item {% if request.resolver_match.url_name == 'partner_list' %}active{% endif %}">
                    <svg xmlns="http://www.w3.org/2000/svg"
                         class="admin-nav-icon"
                         viewBox="0 0 24 24" fill="none" stroke="currentColor"
                         stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M16 21v-2a4 4 0 00-4-4H6a4 4 0 00-4 4v2" />
                        <circle cx="9" cy="7" r="3" />
                        <path d="M22 21v-2a4 4 0 00-3-3.87" />
                        <path d="M16 3.13a4 4 0 010 7.75" />
                    </svg>
                    <span>Partner</span>
                </a>

                {# CLIENTI #}
                <a href="{% url 'backoffice:client_list' %}"
                   class="admin-nav-item {% if request.resolver_match.url_name == 'client_list' %}active{% endif %}">
                    <svg xmlns="http://www.w3.org/2000/svg"
                         class="admin-nav-icon"
                         viewBox="0 0 24 24" fill="none" stroke="currentColor"
                         stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M5.121 17.804A3 3 0 017 17h10a3 3 0 012.879 2.804L20 21H4l1.121-3.196z" />
                        <circle cx="12" cy="9" r="4" />
                    </svg>
                    <span>Clienti</span>
                </a>

                {# STRUTTURE CLIENTE #}
                <a href="{% url 'backoffice:client_structure_list' %}"
                   class="admin-nav-item {% if request.resolver_match.url_name == 'client_structure_list' %}active{% endif %}">
                    <svg xmlns="http://www.w3.org/2000/svg"
                         class="admin-nav-icon"
                         viewBox="0 0 24 24" fill="none" stroke="currentColor"
                         stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M3 21V10l9-7 9 7v11H3z" />
                        <path d="M9 21v-6h6v6" />
                    </svg>
                    <span>Strutture cliente</span>
                </a>

                {# CATEGORIE PRODOTTO #}
                <a href="{% url 'backoffice:category_list' %}"
                   class="admin-nav-item {% if request.resolver_match.url_name == 'category_list' %}active{% endif %}">
                    <svg xmlns="http://www.w3.org/2000/svg"
                         class="admin-nav-icon"
                         viewBox="0 0 24 24" fill="none" stroke="currentColor"
                         stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                        <rect x="3" y="4" width="7" height="7" rx="1.5"/>
                        <rect x="14" y="4" width="7" height="7" rx="1.5"/>
                        <rect x="3" y="13" width="7" height="7" rx="1.5"/>
                        <rect x="14" y="13" width="7" height="7" rx="1.5"/>
                    </svg>
                    <span>Categorie prodotto</span>
                </a>

                {# PRODOTTI / SERVIZI #}
                <a href="{% url 'backoffice:product_list' %}"
                   class="admin-nav-item {% if request.resolver_match.url_name == 'product_list' %}active{% endif %}">
                    <svg xmlns="http://www.w3.org/2000/svg"
                         class="admin-nav-icon"
                         viewBox="0 0 24 24" fill="none" stroke="currentColor"
                         stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                        <rect x="4" y="3" width="16" height="18" rx="2" />
                        <path d="M9 8h6M9 12h6M9 16h3" />
                    </svg>
                    <span>Prodotti / Servizi</span>
                </a>

                {# KIT PRODOTTO #}
                <a href="{% url 'backoffice:kit_list' %}"
                   class="admin-nav-item {% if request.resolver_match.url_name == 'kit_list' %}active{% endif %}">
                    <svg xmlns="http://www.w3.org/2000/svg"
                         class="admin-nav-icon"
                         viewBox="0 0 24 24" fill="none" stroke="currentColor"
                         stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                        <rect x="3" y="3" width="7" height="7" rx="1.5"/>
                        <rect x="14" y="3" width="7" height="7" rx="1.5"/>
                        <rect x="3" y="14" width="7" height="7" rx="1.5"/>
                        <path d="M14 14h7v7h-7z"/>
                    </svg>
                    <span>Kit / Componenti</span>
                </a>

                {# PAGINE CMS #}
                <a href="{% url 'backoffice:cms_page_list' %}"
                   class="admin-nav-item {% if request.resolver_match.url_name == 'cms_page_list' %}active{% endif %}">
                    <svg xmlns="http://www.w3.org/2000/svg"
                         class="admin-nav-icon"
                         viewBox="0 0 24 24" fill="none" stroke="currentColor"
                         stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M4 4h16v16H4z"/>
                        <path d="M8 8h8M8 12h5M8 16h6"/>
                    </svg>
                    <span>Pagine CMS</span>
                </a>

                {# UTENTI #}
                <a href="{% url 'backoffice:user_list' %}"
                   class="admin-nav-item {% if request.resolver_match.url_name == 'user_list' %}active{% endif %}">
                    <svg xmlns="http://www.w3.org/2000/svg"
                         class="admin-nav-icon"
                         viewBox="0 0 24 24" fill="none" stroke="currentColor"
                         stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M16 21v-2a4 4 0 00-4-4H6a4 4 0 00-4 4v2"/>
                        <circle cx="9" cy="7" r="3"/>
                        <path d="M22 21v-2a4 4 0 00-3-3.87"/>
                        <path d="M16 3.13a4 4 0 010 7.75"/>
                    </svg>
                    <span>Utenti</span>
                </a>

                {# COMMISSIONI PARTNER #}
                <a href="{% url 'backoffice:partner_commission_list' %}"
                   class="admin-nav-item {% if request.resolver_match.url_name == 'partner_commission_list' %}active{% endif %}">
                    <svg xmlns="http://www.w3.org/2000/svg"
                         class="admin-nav-icon"
                         viewBox="0 0 24 24" fill="none" stroke="currentColor"
                         stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="9"/>
                        <path d="M9 12a3 3 0 016 0 3 3 0 01-3 3v1"/>
                        <path d="M12 7v1"/>
                        <path d="M12 17v1"/>
                    </svg>
                    <span>Commissioni</span>
                </a>
                
                {# REPORT COMMISSIONI #}
                <a href="{% url 'backoffice:commission_report' %}"
                   class="admin-nav-item {% if request.resolver_match.url_name == 'commission_report' %}active{% endif %}">
                    <svg xmlns="http://www.w3.org/2000/svg"
                         class="admin-nav-icon"
                         viewBox="0 0 24 24" fill="none" stroke="currentColor"
                         stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M3 3h18v4H3z" />
                        <path d="M7 13h3v8H7z" />
                        <path d="M14 9h3v12h-3z" />
                    </svg>
                    <span>Report & Grafici</span>
                </a>

            </nav>
        </aside>

        <!-- CONTENUTO PRINCIPALE -->
        <section>

    {% block admin_content %}
            {# Ogni pagina del backoffice inserir√† qui il proprio contenuto #}
            {% endblock %}
        </section>

    </div>
</div>
{% endblock %}
